{% extends 'base_main.html' %}
{% load static %}
{% block content %}

<div class="search-box">
  <div class="serach-form">
      <div class="closebtn">
          <span></span>
          <span></span>
      </div>
      <form action="#">
          <input type="text" placeholder="Search by keyword">
          <button><i class="fa fa-search"></i></button>
      </form>
  </div> <!-- search form -->
</div>

<!--====== SEARCH BOX PART ENDS ======-->

<!--====== PAGE BANNER PART START ======-->

<section id="page-banner" class="pt-105 pb-130 bg_cover" data-overlay="8" style="background-image: url(edulook/images/page-banner-5.jpg)">
  <div class="container">
      <div class="row">
          <div class="col-lg-12">
              <div class="page-banner-cont">
                  <h2>Keat Bookstore</h2>
                  <nav aria-label="breadcrumb">
                      <ol class="breadcrumb">
                          <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
                          <li class="breadcrumb-item active" aria-current="page">Books</li>
                      </ol>
                  </nav>
              </div>  <!-- page banner cont -->
          </div>
      </div> <!-- row -->
  </div> <!-- container -->
</section>

<!--====== PAGE BANNER PART ENDS ======-->

<!--====== SHOP PART START ======-->

<section id="shop-page" class="pt-120 pb-120 gray-bg">
  <div class="container">
      <!-- Carousel Section -->
      <div id="bookCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
        <div class="carousel-inner">
          {% for book in page_obj %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
              <img src="{{ book.cover_image.url }}" class="d-block w-100" alt="{{ book.title }}">
              <div class="carousel-caption d-none d-md-block">
                <h5>{{ book.title }}</h5>
                <p>K{{ book.price }}</p>
                <a href="https://wa.me/c/260762446629" class="btn btn-primary">Buy Now</a>
              </div>
            </div>
          {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#bookCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#bookCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>

      <div class="row">
          <div class="col-lg-12">
              <div class="shop-top-search">
                  <div class="shop-bar">
                      <ul class="nav" id="myTab" role="tablist">
                          <li class="nav-item">
                              <a class="active" id="shop-grid-tab" data-toggle="tab" href="#shop-grid" role="tab" aria-controls="shop-grid" aria-selected="true"><i class="fa fa-th-large"></i></a>
                          </li>
                          <li class="nav-item">
                              <a id="shop-list-tab" data-toggle="tab" href="#shop-list" role="tab" aria-controls="shop-list" aria-selected="false"><i class="fa fa-th-list"></i></a>
                          </li>
                          <li class="nav-item">Showing 4 of 24 Results</li>
                      </ul> <!-- nav -->
                  </div><!-- shop bar -->
                  <div class="shop-select">
                     <select>
                          <option value="1">Sort by</option>
                          <option value="1">Sort by 01</option>
                          <option value="2">Sort by 02</option>
                          <option value="3">Sort by 03</option>
                          <option value="4">Sort by 04</option>
                          <option value="5">Sort by 05</option>
                      </select>
                  </div> <!-- shop select -->
              </div> <!-- shop top search -->
          </div>
      </div> <!-- row -->
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="shop-grid" role="tabpanel" aria-labelledby="shop-grid-tab">
              <div class="row justify-content-center">
                {% for book in page_obj %}
                  <div class="col-lg-3 col-md-6 col-sm-8">
                      <div class="singel-publication mt-30">
                          <div class="image">
                              <img src="{{ book.cover_image.url }}" alt="Publication">
                              <div class="add-cart">
                                  <ul>
                                      <li><a href="#"><i class="bi bi-book-fill"></i></a></li>
                                      <li><a href="#"><i class="bi bi-cash-coin"></i></a></li>
                                  </ul>
                              </div>
                          </div>
                          <div class="cont">
                              <div class="name">
                                  <a href="shop-singel.html"><h6>{{ book.title }}</h6></a>
                                  <span>K{{ book.price }}</span>
                              </div>
                              <div class="button text-right">
                                  <a href="https://wa.me/c/260762446629" class="main-btn">Buy Now</a>
                              </div>
                          </div>
                      </div> 
                  </div>
                {% endfor %}
              </div> <!-- row -->

              <div class="row">
                  <div class="col-lg-12">
                      <nav class="courses-pagination mt-50">
                          <ul class="pagination justify-content-center">
                            {% if page_obj.has_previous %}
                              <li class="page-item">
                                  <a href="?page=1" aria-label="First" aria-hidden="true">
                                      <i class="bi bi-arrow-double-left" aria-hidden="true"></i>
                                  </a>
                              </li>
                              <li class="page-item">
                                  <a href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
                                      <i class="bi bi-arrow-left" aria-hidden="true"></i>
                                  </a>
                              </li>
                            {% endif %}

                            {% for num in page_obj.paginator.page_range %}
                               <li class="page-item {% if page_obj.number == num %}active{% endif %}">
                                   <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                               </li>
                            {% endfor %}

                            {% if page_obj.has_next %}
                              <li class="page-item">
                                  <a href="?page={{ page_obj.next_page_number }}" aria-label="Next">
                                      <i class="bi bi-arrow-right"></i>
                                  </a>
                              </li>
                              <li class="page-item">
                                  <a href="?page={{ page_obj.paginator.num_pages }}" aria-label="Last">
                                      <i class="bi bi-arrow-double-right"></i>
                                  </a>
                              </li>
                            {% endif %}
                          </ul>
                      </nav>  <!-- courses pagination -->
                  </div>
              </div>  <!-- row -->
          </div> <!-- tab-pane -->
      </div> <!-- tab-content -->
  </div> <!-- container -->
</section>

{% endblock %}
